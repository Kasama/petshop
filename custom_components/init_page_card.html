<dom-module id="init-page-card">
  <template>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <script src="important_js.js"></script>

    <style>
      .card-content {
        min-height: 160px;
      }
      .card-image {
        height: 200px;
        overflow: hidden;
      }
      .card-image img {
        height: 100%;
        width: 100%;
        object-fit: contain;
      }
    </style>

    <div class="card">
      <div class="card-image">
        <img src="{{picture}}" alt="{name}" />
      </div>
      <div class="card-content">
        <span class="card-title"> {{name}} </span>
        <p>{{description}}</p>
      </div>
      <div class="card-action">
        <a href="#" id="details">Detalhes</a>
      </div>
    </div>

  </template>


  <script>
    Polymer({
      is: 'init-page-card',
      properties: {
        product_id: String,
        picture: String,
        name: String,
        description: String,
      },
      
      ready: function(){
        this.description = "";
        this.name = "";
        this.picture = "";
        
        
        $.get(serverURL + "products/" + this.product_id, function(data, status){
          this.description = data.description;
          this.name = data.name;
          this.picture = serverURL + data.picture;
          }.bind(this));
        
        $(this.$.details).click(e => {
          changePage(this, "detail-product-page", { product_id: this.product_id })
        })
      }
    });
  </script>

</dom-module>